# Agent Guidelines

## Production Readiness Workflow

- Keep the `README.md` section titled "Production Readiness Tracker" in sync with the latest verification run.
- After each multi-agent execution round, update task statuses (Not Started → In Progress → Blocked/Complete) and document any blockers inline in the tracker table.
- When a task from the tracker is completed, annotate the corresponding note with the evidence source (file path, command output, or ticket reference).
- Avoid duplicating completed implementation work from `PRODUCTION_READY_SUMMARY.md`; only new operational or follow-up actions belong in the tracker.

## Outstanding Tasks (Next Steps from Production Report)

| Priority | Task                                                                               | Status      | Notes                                                                                                                                                                                   |
| -------- | ---------------------------------------------------------------------------------- | ----------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| P1       | Deploy to VPS using the documented runbook                                         | Blocked     | Awaiting production VPS access and secrets bundle to execute the runbook.                                                                                                               |
| P1       | Execute E2E regression suite via Cypress harness                                   | Blocked     | `npm run test:e2e` fails because the container lacks Xvfb and the dev server port conflicts once Cypress exits; install Xvfb or use the provided Cypress Docker image before rerunning. |
| P1       | Resolve ESLint failures in UI and page modules                                     | Complete    | `npm run lint` now passes after cleaning unused variables and adding error logging across admin, crew, CRM, planner, auth, and secrets dashboards.【59f70e†L1-L5】【b1192c†L1-L1】      |
|  |
| P1       | Repair TypeScript compiler errors across UI, stores, and tests                     | Not Started | `npm run typecheck` surfaces extensive TS2304/TS2339 issues plus missing Vite typings; see `artifacts/debug/logs/typecheck.log`.                                                        |
| P1       | Stabilise unit test suite                                                          | Not Started | `npm run test` exits with `vi.mock is not a function` and `initializer is not a function`; align Vitest config and store factories (see `artifacts/debug/logs/test.log`).               |
| P1       | Restore smoke checks                                                               | Blocked     | `npm run smoke` cannot reach health endpoints because no API is running; start the FastAPI backend or point the script at the expected target (`artifacts/debug/logs/smoke.log`).       |
| P1       | Apply latest database migrations and seed data                                     | Complete    | Local PostgreSQL 16 with PostGIS is available and the Alembic plus seed scripts were executed successfully.                                                                             |
| P1       | Finalise environment variable configuration for new modules                        | Complete    | `.env.example` now includes customer portal, recurring invoice, booking, and sub-renting variables.                                                                                     |
| P1       | Instrument UI with `data-testid` hooks for Cypress                                 | In Progress | Planner shell and login views expose selectors, but remaining flows still need hooks for the legacy specs.                                                                              |
| P1       | Ensure GitHub Actions install Node dependencies in each Node.js job                | Complete    | `.github/workflows/main-workflow.yml` now runs `npm ci` before lint, test, build, and E2E steps so tools like ESLint are available.                                                     |
| P1       | Provision reproducible PostgreSQL environment for migrations and integration tests | Complete    | PostgreSQL 16 with PostGIS has been installed locally; document the bootstrap commands for future operators.                                                                            |
| P2       | Run integration tests across new and existing modules                              | Blocked     | `pytest` execution returned no tests; integration coverage must be authored.                                                                                                            |
| P2       | Perform performance/load testing on new endpoints                                  | Blocked     | Load-testing stack not available during sandbox runs.                                                                                                                                   |
| P2       | Conduct a security audit of auth and RBAC layers                                   | Blocked     | Requires live token lifecycle infrastructure and IAM stakeholders.                                                                                                                      |
| P2       | Schedule user acceptance testing with stakeholders                                 | Blocked     | Pending release candidate availability and stakeholder scheduling.                                                                                                                      |
| P2       | Run scanner lint inside CI                                                         | Complete    | The lint-and-typecheck job now installs scanner dependencies and runs `npm run lint` from `apps/pwa-scanner` so the ESLint suite executes on every pipeline run.                        |
| P3       | Evaluate mobile app opportunities for crew/customers                               | Complete    | Findings documented in `docs/mobile_app_evaluation.md`.                                                                                                                                 |
| P3       | Extend analytics for BI dashboards                                                 | Complete    | KPI roadmap captured in `docs/analytics_extension_plan.md`.                                                                                                                             |
| P3       | Plan third-party accounting/CRM integrations                                       | Complete    | Strategy defined in `docs/integration_strategy.md`.                                                                                                                                     |
| P3       | Prepare internationalisation roadmap                                               | Complete    | Localisation milestones outlined in `docs/internationalization_roadmap.md`.                                                                                                             |
